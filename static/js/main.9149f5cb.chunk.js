(this["webpackJsonpsound-painting"]=this["webpackJsonpsound-painting"]||[]).push([[0],{19:function(e,n,t){},20:function(e,n,t){},31:function(e,n,t){"use strict";t.r(n);var s=t(6),a=t(5),i=t.n(a),o=t(12),c=t.n(o),d=(t(19),t(3)),u=t(33),r=t(7),l=(t(20),t(4)),f=t(0),h=t(1),j=t(13),p=new(function(){function e(n){Object(f.a)(this,e),this.players=new Map,this.loadedSounds=new Map,this.sceneSounds=[],Object(r.e)(this,{loadedSounds:r.f,isLoaded:r.c}),this.value=n}return Object(h.a)(e,[{key:"isLoaded",get:function(){return Object(l.a)(this.loadedSounds.values()).every((function(e){return 1==e}))}}]),Object(h.a)(e,[{key:"setSounds",value:function(e,n){var t=this;n.forEach((function(n){var s=n.file;if(!t.players.get(s)){var a="".concat(e,"/").concat(s),i=new j.a(a,(function(){console.log("loaded",s),t.loadedSounds.set(s,!0)})).toDestination();t.players.set(s,i),i.loop=!0,i.volume.value=-12,t.loadedSounds.set(s,!1)}})),this.sceneSounds=n}},{key:"playSounds",value:function(){var e=this;this.sceneSounds.forEach((function(n){var t=e.players.get(n.file);t&&"started"!==t.state&&t.start()}))}},{key:"setSoundPosition",value:function(e,n){}}]),e}()),v={name:"Impression, Sunrise",artist:"Claude Monet",key:"monet",width:1280,height:993,sounds:[{file:"foghorn.mp3"},{file:"gulls.mp3"},{file:"harborwaves.mp3"}]};p.setSounds(v.key,v.sounds),Object(r.b)((function(){console.log("\ud83d\udd25",p.isLoaded)}));var m=Object(u.a)((function(){var e=Object(a.useState)(!0),n=Object(d.a)(e,2),t=n[0],i=n[1];Object(a.useEffect)((function(){var e=function(e){p.setSoundPosition(e.pageX,e.pageY)};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]);var o="".concat("/listen-paintings","/").concat(v.key,"/image.jpg"),c=t?"shown":"hidden";return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("div",{className:"image-container",children:[Object(s.jsx)("div",{className:"overlay ".concat(c),children:p.isLoaded?Object(s.jsx)("span",{className:"state loaded",onClick:function(){i(!1),p.playSounds()},children:"Start"}):Object(s.jsx)("div",{className:"state loading",children:"Loading..."})}),Object(s.jsx)("img",{src:o,className:"painting",alt:""}),Object(s.jsxs)("div",{className:"image-description",children:[Object(s.jsx)("span",{className:"title",children:v.name}),Object(s.jsx)("span",{className:"artist",children:v.artist})]})]})})})),g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,34)).then((function(n){var t=n.getCLS,s=n.getFID,a=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),s(e),a(e),i(e),o(e)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(m,{})}),document.getElementById("root")),g()}},[[31,1,2]]]);
//# sourceMappingURL=main.9149f5cb.chunk.js.map